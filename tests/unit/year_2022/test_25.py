from aoc.year_2022.task_25 import Snafu


def test_decimal_to_snafu():
    assert 1 == Snafu("1").to_decimal()
    assert 2 == Snafu("2").to_decimal()
    assert 3 == Snafu("1=").to_decimal()
    assert 4 == Snafu("1-").to_decimal()
    assert 5 == Snafu("10").to_decimal()
    assert 6 == Snafu("11").to_decimal()
    assert 7 == Snafu("12").to_decimal()
    assert 8 == Snafu("2=").to_decimal()
    assert 9 == Snafu("2-").to_decimal()
    assert 10 == Snafu("20").to_decimal()
    assert 15 == Snafu("1=0").to_decimal()
    assert 20 == Snafu("1-0").to_decimal()
    assert 2022 == Snafu("1=11-2").to_decimal()
    assert 12345 == Snafu("1-0---0").to_decimal()
    assert 314159265 == Snafu("1121-1110-1=0").to_decimal()

    assert 1747 == Snafu("1=-0-2").to_decimal()
    assert 906 == Snafu("12111").to_decimal()
    assert 198 == Snafu("2=0=").to_decimal()
    assert 11 == Snafu("21").to_decimal()
    assert 201 == Snafu("2=01").to_decimal()
    assert 31 == Snafu("111").to_decimal()
    assert 1257 == Snafu("20012").to_decimal()
    assert 32 == Snafu("112").to_decimal()
    assert 353 == Snafu("1=-1=").to_decimal()
    assert 107 == Snafu("1-12").to_decimal()
    assert 7 == Snafu("12").to_decimal()
    assert 3 == Snafu("1=").to_decimal()
    assert 37 == Snafu("122").to_decimal()


def test_snafu_from_decimal():
    assert Snafu.from_decimal(1) == Snafu("1")
    assert Snafu.from_decimal(2) == Snafu("2")
    assert Snafu.from_decimal(3) == Snafu("1=")
    assert Snafu.from_decimal(4) == Snafu("1-")
    assert Snafu.from_decimal(5) == Snafu("10")
    assert Snafu.from_decimal(6) == Snafu("11")
    assert Snafu.from_decimal(7) == Snafu("12")
    assert Snafu.from_decimal(8) == Snafu("2=")
    assert Snafu.from_decimal(9) == Snafu("2-")
    assert Snafu.from_decimal(10) == Snafu("20")
    assert Snafu.from_decimal(15) == Snafu("1=0")
    assert Snafu.from_decimal(20) == Snafu("1-0")
    assert Snafu.from_decimal(2022) == Snafu("1=11-2")
    assert Snafu.from_decimal(12345) == Snafu("1-0---0")
    assert Snafu.from_decimal(314159265) == Snafu("1121-1110-1=0")

    assert Snafu.from_decimal(1747) == Snafu("1=-0-2")
    assert Snafu.from_decimal(906) == Snafu("12111")
    assert Snafu.from_decimal(198) == Snafu("2=0=")
    assert Snafu.from_decimal(11) == Snafu("21")
    assert Snafu.from_decimal(201) == Snafu("2=01")
    assert Snafu.from_decimal(31) == Snafu("111")
    assert Snafu.from_decimal(1257) == Snafu("20012")
    assert Snafu.from_decimal(32) == Snafu("112")
    assert Snafu.from_decimal(353) == Snafu("1=-1=")
    assert Snafu.from_decimal(107) == Snafu("1-12")
    assert Snafu.from_decimal(7) == Snafu("12")
    assert Snafu.from_decimal(3) == Snafu("1=")
    assert Snafu.from_decimal(37) == Snafu("122")
